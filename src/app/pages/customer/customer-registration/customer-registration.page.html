<ion-header size="2">
    <ion-toolbar>
        <ion-title>Customer Registration</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content padding>
    <ion-card>
        <ion-card-header color="secondary">
            <ion-card-title>

                <b> Personal Details</b>

            </ion-card-title>
            <ion-card-subtitle>
                Fill in the details to registor
            </ion-card-subtitle>

        </ion-card-header>

        <ion-card-content>
            <form [formGroup]="custformGroup" (ngSubmit)="onSubmit()">
                <ion-grid>
                    <ion-row>
                        <ion-col>
                            <ion-grid>
                                <ion-row>
                                    <ion-col size="6">
                                        <ion-item>
                                            <ion-label position="floating">Customer Type</ion-label>
                                            <ion-select formControlName="vistingFor" [interfaceOptions]="customPopover" interface="popover" placeholder="Select">
                                                <ion-select-option value="store">Products</ion-select-option>
                                                <ion-select-option value="treatment">Treatment</ion-select-option>
                                            </ion-select>
                                        </ion-item>
                                        <ion-text *ngIf="custformGroup.controls['vistingFor'].errors && custformGroup.controls['vistingFor'].dirty" color="danger" padding>Please Select Type Of Customer.</ion-text>

                                    </ion-col>
                                </ion-row>
                                <ion-row>
                                    <ion-col>
                                        <ion-item>
                                            <ion-label position="floating">First Name</ion-label>
                                            <ion-input [value]="custformGroup.controls['firstName'].value  | uppercase"  type="text" formControlName="firstName" id="firstName">
                                            </ion-input>
                                        </ion-item>
                                        <ion-text *ngIf="custformGroup.controls['firstName'].errors && custformGroup.controls['firstName'].dirty" color="danger" padding>Please Enter First Name.</ion-text>

                                    </ion-col>
                                    <ion-col>
                                        <ion-item>
                                            <ion-label position="floating">Middle Name</ion-label>
                                            <ion-input   [value]="custformGroup.controls['middleName'].value  | uppercase"  type="text" formControlName="middleName" id="middleName">
                                            </ion-input>
                                        </ion-item>
                                    </ion-col>
                                    <ion-col>
                                        <ion-item>
                                            <ion-label position="floating">Last Name</ion-label>
                                            <ion-input [value]="custformGroup.controls['lastName'].value  | uppercase" type="text" formControlName="lastName" id="lastName">
                                            </ion-input>
                                        </ion-item>
                                        <ion-text *ngIf="custformGroup.controls['lastName'].errors && custformGroup.controls['lastName'].dirty" color="danger" padding>Please Enter Last Name.</ion-text>

                                    </ion-col>
                                </ion-row>
                                <ion-row>
                                    <ion-col>
                                        <ion-item>
                                            <ion-label position="floating">Email Id</ion-label>
                                            <ion-input type="email" formControlName="emailId" id="emailId">
                                            </ion-input>
                                        </ion-item>
                                        <ion-text *ngIf="custformGroup.controls['emailId'].errors && custformGroup.controls['emailId'].dirty" color="danger" padding>Email is not valid.</ion-text>

                                    </ion-col>
                                    <ion-col *ngIf="showHide">
                                        <ion-item>
                                            <ion-label position="stacked" >Date of Birth</ion-label>
                                            <!-- <ion-datetime formControlName="dob" id="dob" display-format="MMM DD, YYYY"></ion-datetime> -->
                                            <input  [(ngModel)]="dob"  class="ion-input" [owlDateTime]="dt1" id="consulatationDate"  formControlName="dob"   [owlDateTimeTrigger]="dt1" placeholder="Date Time"/>
                                            <owl-date-time  #dt1 hour12Timer="true" stepHour="1" pickerType="calendar" stepMinute="30"> </owl-date-time>
                                    
                                        </ion-item>
                                        <ion-text *ngIf="custformGroup.controls['dob'].errors && custformGroup.controls['dob'].dirty" color="danger" padding>Please Input Date of birth.</ion-text>

                                    </ion-col>
                                    <ion-col *ngIf="showHide">
                                        <ion-item>
                                            <ion-label position="floating">Age</ion-label>
                                            <ion-input name="age" formControlName="age" type="text" readonly="true" id="age">
                                            </ion-input>
                                        </ion-item>

                                    </ion-col>
                                </ion-row>
                                <ion-row>
                                    <ion-col *ngIf="showHide">
                                        <ion-item>
                                            <ion-label position="floating">Gender</ion-label>
                                            <ion-select formControlName="gender" interface="popover" id="gender" placeholder="Select">
                                                <ion-select-option value="male">Male</ion-select-option>
                                                <ion-select-option value="female">Female</ion-select-option>
                                                <ion-select-option value="others">Others</ion-select-option>
                                            </ion-select>

                                        </ion-item>
                                        <ion-text *ngIf="custformGroup.controls['gender'].errors && custformGroup.controls['gender'].dirty" color="danger" padding>Please Select Gender.</ion-text>

                                    </ion-col>
                                    <ion-col *ngIf="showHide">
                                        <ion-item>
                                            <ion-label position="floating">Occupation</ion-label>
                                            <ion-input type="text" formControlName="occupation" id="occupation">
                                            </ion-input>
                                        </ion-item>
                                        <ion-text *ngIf="custformGroup.controls['occupation'].errors && custformGroup.controls['occupation'].dirty" color="danger" padding>Please Input Occupation.</ion-text>
                                    </ion-col>
                                    <ion-col *ngIf="showHide">
                                        <ion-item>
                                            <ion-label position="floating">Aadhar number</ion-label>
                                            <ion-input  type="text" maxlength="14" [value]="custformGroup.controls['aadharNumber'].value  | aadharTranform" formControlName="aadharNumber" id="aadharNumber">
                                            </ion-input>
                                        </ion-item>
                                        <ion-text *ngIf="custformGroup.controls['aadharNumber'].errors && custformGroup.controls['aadharNumber'].dirty" color="danger" padding>Please Input Valid Aadhar Number.</ion-text>
                                    </ion-col>
                                </ion-row>
                            </ion-grid>
                        </ion-col>
                        <!-- <ion-col>
                            <ion-img style="width:50%;height:50%;" src="https://picsum.photos/100"></ion-img>
                        </ion-col> -->
                </ion-row>
                    <ion-row>
                        <ion-col>
                            <ion-grid>
                                <ion-row>
                                    <ion-col *ngIf="showHide">
                                        <ion-item>
                                            <ion-label position="floating">PAN Number</ion-label>
                                            <ion-input [value]="custformGroup.controls['panNumber'].value  | uppercase" type="text" formControlName="panNumber" id="panNumber">
                                            </ion-input>
                                        </ion-item>
                                        <ion-text *ngIf="custformGroup.controls['panNumber'].errors && custformGroup.controls['panNumber'].dirty" color="danger" padding>Please Input Valid PAN Number.</ion-text>

                                    </ion-col>

                                </ion-row>
                                <ion-row>
                                    <ion-col>
                                        <ion-item>
                                            <ion-label position="floating">Mobile (Primary)</ion-label>
                                            <ion-input type="text" formControlName="mobileNo" id="mobileNo">
                                            </ion-input>
                                        </ion-item>
                                        <ion-text *ngIf="custformGroup.controls['mobileNo'].errors && custformGroup.controls['mobileNo'].dirty" color="danger" padding>Please Enter Mobile No.</ion-text>

                                    </ion-col>
                                    <ion-col *ngIf="showHide">
                                        <ion-item>
                                            <ion-label position="floating">Mobile (Alternate)</ion-label>
                                            <ion-input type="text" formControlName="altMobileNo" id="altMobileNo">
                                            </ion-input>
                                        </ion-item>
                                    </ion-col>
                                </ion-row>

                            </ion-grid>
                        </ion-col>
                        <ion-col *ngIf="showHide">
                            <ion-item>
                                <ion-label position="floating">Address</ion-label>
                                <ion-textarea rows="10" type="text" formControlName="address" id="address">
                                </ion-textarea>
                            </ion-item>
                            <ion-text *ngIf="custformGroup.controls['address'].errors && custformGroup.controls['address'].dirty" color="danger" padding>Please Enter Address .</ion-text>

                        </ion-col>
                    </ion-row>

                </ion-grid>
                <ion-item>
                    <ion-button *ngIf="customerDetails['id'] == null" shape="round" size="default" slot="end" type="submit"  [disabled]="!custformGroup.valid">
                        <ion-icon size="default" name="person-add"></ion-icon> &nbsp; Add Customer</ion-button>
                        <ion-button *ngIf="customerDetails['id'] != null" shape="round" size="default" slot="end" type="submit"  [disabled]="!custformGroup.valid">
                                <ion-icon size="default" name="person-add"></ion-icon> &nbsp; Update Customer</ion-button>
                    <ion-button shape="round" size="default" slot="end" type="reset">Reset</ion-button>

                </ion-item>

            </form>
        </ion-card-content>
    </ion-card>
</ion-content>